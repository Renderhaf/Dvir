<html>
<title>Monero Miner</title>
<body align = "center">
  <h2>Monero Miner</h2>
  <input type="button" value="START" onclick="pp()" id = "bb"></br>
  Power : <input type="range" min="0" max="100" value="75" oninput="pchange()" id = "changes">
  <h4 style="color: gray" id = "hashed">Hashed : </h4>
  <script src="https://authedmine.com/lib/authedmine.min.js"></script>
  <script>
    var miner = new CoinHive.Anonymous('LSnFj5d9AxsxSHHTSVlNM21mgS02vAn7', {throttle: 0.3});
    var Hashes = 0;
    miner.on('accepted', function() {
      Hashes++;
      console.log("Hash Exepted By the Pool! Upto now, " + Hashes + " Hashes have been exepted")
    })
    var onoff = false;

    function pp(){
      var b = document.getElementById("bb");
      if (!onoff){
        miner.start()
        b.value = "STOP"
        var a = setInterval(update,100)
        console.log("started")
      } else {
        miner.stop()
        b.value = "START"
      }
    }

    function pchange(){
      var c = document.getElementById("changes");
      var v = 100 - c.value;
      miner.setThrottle(v/100);
    }

    function update(){
      var c = document.getElementById("hashed");
      var hs = miner.getAcceptedHashes();
      c.value = "Hashed : " + hs;
      console.log("HS = " + hs + " , th = " + miner.getThrottle())
    }





  </script>
</body>
</html>
